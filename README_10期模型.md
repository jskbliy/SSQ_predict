# 10期数据模型使用说明

## 重要概念

### 模型预测的工作原理

1. **模型训练阶段**（`train_10.py`）：
   - 读取历史数据（`ssq_history.csv`）
   - 使用最近10期数据作为输入，预测下一期
   - 训练神经网络，学习10期数据到下一期的映射规律
   - 保存训练好的模型权重到 `ssq_lstm_model_10.weights.h5`

2. **模型预测阶段**（`predict_10.py`）：
   - 加载已训练的模型权重（`ssq_lstm_model_10.weights.h5`）
   - 读取最新的10期数据
   - 使用模型进行预测

### 为什么预测结果不变？

**关键点：预测结果取决于模型权重，而不是输入数据！**

即使你更新了CSV文件，添加了新的开奖数据：
- 如果模型权重文件（`ssq_lstm_model_10.weights.h5`）没有更新
- 模型仍然使用旧的权重进行预测
- 由于模型已经"学会"了某种模式，对于相似的输入会给出相似的输出
- 因此预测结果可能不会明显变化

### 如何获得基于最新数据的预测？

**必须重新训练模型！**

```bash
# 1. 更新数据（如果需要）
python update_latest.py

# 2. 重新训练模型（这会更新模型权重）
python train_10.py

# 3. 现在预测结果会基于最新训练的模型
python predict_10.py
```

## 文件说明

- `data_processor_10.py` - 10期数据处理器
- `lstm_model_10.py` - 10期LSTM模型
- `train_10.py` - 训练脚本（处理数据 + 训练模型 + 预测）
- `predict_10.py` - 预测脚本（只预测，不训练）
- `ssq_lstm_model_10.weights.h5` - 训练好的模型权重
- `processed_data_10.npz` - 处理后的训练数据
- `training_history_10.csv` - 训练历史记录

## 使用流程

### 首次使用

```bash
# 1. 训练模型
python train_10.py
```

### 日常使用

```bash
# 方案1: 只预测（使用已训练的模型）
python predict_10.py

# 方案2: 重新训练后预测（基于最新数据）
python train_10.py
```

## 注意事项

1. **模型不会自动更新**：即使CSV数据更新，模型权重不会自动更新
2. **预测结果的稳定性**：训练好的模型对相似输入会给出相似输出
3. **重新训练的必要性**：要让模型学习新的数据模式，必须重新训练
4. **训练时间**：每次训练需要较长时间（取决于epochs设置）

## 与50期模型的区别

| 特性 | 10期模型 | 50期模型 |
|------|---------|---------|
| 输入数据 | 最近10期 | 最近50期 |
| 模型文件 | `ssq_lstm_model_10.weights.h5` | `ssq_lstm_model_50.weights.h5` |
| 数据文件 | `processed_data_10.npz` | `processed_data_50.npz` |
| 训练脚本 | `train_10.py` | `train_50.py` |
| 特点 | 更关注短期趋势 | 更关注长期规律 |



